<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>aws on Ryusstory</title><link>https://ryusstory.github.io/tags/aws/</link><description>Recent content in aws on Ryusstory</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Wed, 15 Sep 2021 21:52:55 +0900</lastBuildDate><atom:link href="https://ryusstory.github.io/tags/aws/index.xml" rel="self" type="application/rss+xml"/><item><title>AWS EKS Terraform 작성</title><link>https://ryusstory.github.io/post/210918-eks-terraform/</link><pubDate>Wed, 15 Sep 2021 21:52:55 +0900</pubDate><guid>https://ryusstory.github.io/post/210918-eks-terraform/</guid><description>AKOS 스터디 CloudNet@에서 진행하는 AKOS(AWS Kubernetes Online Study)를 진행하면서 자체적으로 Cloudformation 템플릿을 제공했는데, 이를 테라폼으로 사용해 보고 싶었다.
테라포밍 현재 사용하고 있는 메인 툴이 클라우드 포메이션이기도 하고, 과거에 클라우드 포메이션으로 약간 아쉬운 점도 있었기에, EKS 테라포밍으로 공부하면서 스터디를 할 생각으로 테라폼으로 이를 작성 해봤다.
테라폼과 클라우드포메이션 등 리소스를 배포하는데는 다양한 방법이 있는데 어떤 방식을 사용해도 장단점은 존재하며 그걸 어떻게 수용할지는 본인의 선택이다. 예를 들면 테라폼에서 프로그래밍 혹은 bash에서 curl로 다양한 값들을 가져와서 처리하고 싶지만 그러기엔 좀 더 HCL(Hashcorp Configuration Language)을 깊게 공부해야 하며 나름의 한계가 보이는 부분도 있다.</description></item><item><title>Hello World</title><link>https://ryusstory.github.io/post/221212-terraform-cf-alb-sg/</link><pubDate>Wed, 15 Sep 2021 21:52:55 +0900</pubDate><guid>https://ryusstory.github.io/post/221212-terraform-cf-alb-sg/</guid><description>소개 이 글을 쓰게 된 계기는 다른 글을 쓰다가 Cloudfront와 ALB의 보안 구성을 어떻게 하면 테라폼으로 편하게 배포할까 고민하다가 생각보다 잘 동작하는걸 보고 쓰게 되었습니다.
기존에 lambda를 통해 보안그룹을 업데이트가 가능하지만 이를 테라폼으로 가능한 것을 확인하고 quota를 적용하지 않고 순수 상태로 cloudfront용 보안그룹을 만들어 보려합니다.
Cloudfront와 ALB의 보안구성 먼저 보통 Cloudfront를 붙여서 구성하게 되면 아래와 같이 인프라가 구성되게 됩니다.
Cloudfront를 통해서 내부 인프라에 접근하는 구성인데요. 유저는 실제 Cloudfront랑 통신하고 Cloudfront가 내부 S3나 ALB와 연결을 중계 해주는 방식입니다.</description></item></channel></rss>